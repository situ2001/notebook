<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Problems | Situ Book</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo-book.svg">
    <link rel="stylesheet" href="/katex.min.css">
    <meta name="description" content="Taking notes">
    
    <link rel="preload" href="/assets/css/0.styles.d3913af2.css" as="style"><link rel="preload" href="/assets/js/app.2f694f1f.js" as="script"><link rel="preload" href="/assets/js/2.0386f08b.js" as="script"><link rel="preload" href="/assets/js/10.a527e5d6.js" as="script"><link rel="prefetch" href="/assets/js/11.8d5c9888.js"><link rel="prefetch" href="/assets/js/12.6e7e7be7.js"><link rel="prefetch" href="/assets/js/13.3488446f.js"><link rel="prefetch" href="/assets/js/14.b2138dfa.js"><link rel="prefetch" href="/assets/js/15.ed6be218.js"><link rel="prefetch" href="/assets/js/16.7de27262.js"><link rel="prefetch" href="/assets/js/17.24073abf.js"><link rel="prefetch" href="/assets/js/18.bd7380b2.js"><link rel="prefetch" href="/assets/js/19.b46e9653.js"><link rel="prefetch" href="/assets/js/20.222a138a.js"><link rel="prefetch" href="/assets/js/21.b43e2666.js"><link rel="prefetch" href="/assets/js/22.389b8516.js"><link rel="prefetch" href="/assets/js/23.b255ed2d.js"><link rel="prefetch" href="/assets/js/24.4318192c.js"><link rel="prefetch" href="/assets/js/25.4506febf.js"><link rel="prefetch" href="/assets/js/26.21cd5f2f.js"><link rel="prefetch" href="/assets/js/27.3a5fa86f.js"><link rel="prefetch" href="/assets/js/28.0e9020ac.js"><link rel="prefetch" href="/assets/js/29.d48f68a6.js"><link rel="prefetch" href="/assets/js/3.3946e3db.js"><link rel="prefetch" href="/assets/js/30.79ad403d.js"><link rel="prefetch" href="/assets/js/31.682d142b.js"><link rel="prefetch" href="/assets/js/32.883181cd.js"><link rel="prefetch" href="/assets/js/33.e14fb254.js"><link rel="prefetch" href="/assets/js/34.2610b763.js"><link rel="prefetch" href="/assets/js/35.d8a5f628.js"><link rel="prefetch" href="/assets/js/36.eab1929d.js"><link rel="prefetch" href="/assets/js/37.27fcb663.js"><link rel="prefetch" href="/assets/js/38.fbb69f7a.js"><link rel="prefetch" href="/assets/js/39.95e83f80.js"><link rel="prefetch" href="/assets/js/4.d3dc2a0c.js"><link rel="prefetch" href="/assets/js/40.f16d5e28.js"><link rel="prefetch" href="/assets/js/41.b70e4636.js"><link rel="prefetch" href="/assets/js/42.a692ee57.js"><link rel="prefetch" href="/assets/js/43.2fe370f7.js"><link rel="prefetch" href="/assets/js/44.b465b683.js"><link rel="prefetch" href="/assets/js/45.a8e1dcbb.js"><link rel="prefetch" href="/assets/js/46.fbca66d6.js"><link rel="prefetch" href="/assets/js/47.d100a58e.js"><link rel="prefetch" href="/assets/js/48.8d5b4f3f.js"><link rel="prefetch" href="/assets/js/49.f2095fd5.js"><link rel="prefetch" href="/assets/js/5.6f255507.js"><link rel="prefetch" href="/assets/js/50.3afff02a.js"><link rel="prefetch" href="/assets/js/51.9602841e.js"><link rel="prefetch" href="/assets/js/52.b252a454.js"><link rel="prefetch" href="/assets/js/53.a72c87cd.js"><link rel="prefetch" href="/assets/js/54.098d87d3.js"><link rel="prefetch" href="/assets/js/55.14c3a212.js"><link rel="prefetch" href="/assets/js/56.528ff35c.js"><link rel="prefetch" href="/assets/js/57.c05f6e21.js"><link rel="prefetch" href="/assets/js/58.881b7d9f.js"><link rel="prefetch" href="/assets/js/6.719d5c58.js"><link rel="prefetch" href="/assets/js/7.a34e84e1.js"><link rel="prefetch" href="/assets/js/8.ca2b2ba1.js"><link rel="prefetch" href="/assets/js/9.affa6488.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d3913af2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Situ Book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://blog.situ2001.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/situ2001" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://blog.situ2001.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/situ2001" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/basis.html" class="sidebar-link">Basis</a></li><li><a href="/java/problems.html" aria-current="page" class="active sidebar-link">Problems</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/problems.html#新鲜句法" class="sidebar-link">新鲜句法</a></li><li class="sidebar-sub-header"><a href="/java/problems.html#未见过的行为" class="sidebar-link">未见过的行为</a></li><li class="sidebar-sub-header"><a href="/java/problems.html#迷惑行为" class="sidebar-link">迷惑行为</a></li><li class="sidebar-sub-header"><a href="/java/problems.html#lambda" class="sidebar-link">Lambda</a></li><li class="sidebar-sub-header"><a href="/java/problems.html#自带api" class="sidebar-link">自带API</a></li><li class="sidebar-sub-header"><a href="/java/problems.html#恶臭之处" class="sidebar-link">恶臭之处</a></li><li class="sidebar-sub-header"><a href="/java/problems.html#语言律师" class="sidebar-link">语言律师</a></li></ul></li><li><a href="/java/feature_jdk.html" class="sidebar-link">Feature</a></li><li><a href="/java/multithreading.html" class="sidebar-link">MultiThreading</a></li><li><a href="/java/design_patterns.html" class="sidebar-link">Design patterns</a></li><li><a href="/java/reflection.html" class="sidebar-link">Reflection</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>课程</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="problems"><a href="#problems" class="header-anchor">#</a> Problems</h1> <p></p><div class="table-of-contents"><ul><li><a href="#problems">Problems</a><ul><li><a href="#新鲜句法">新鲜句法</a></li><li><a href="#未见过的行为">未见过的行为</a></li><li><a href="#迷惑行为">迷惑行为</a></li><li><a href="#lambda">Lambda</a></li><li><a href="#自带api">自带API</a></li><li><a href="#恶臭之处">恶臭之处</a></li><li><a href="#语言律师">语言律师</a></li></ul></li></ul></div><p></p> <h2 id="新鲜句法"><a href="#新鲜句法" class="header-anchor">#</a> 新鲜句法</h2> <ul><li>Q: What is static blocks?</li></ul> <blockquote><p>这个问题是我在看到<code>Integer.java</code>源码之后，才想去了解下的。看Oracle里的doc，发现全称应该是叫做<code>static initialization blocks</code>。与此同时，对应地，也有<code>initialization blocks</code>。长这样子</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// they are both in a class body</span>
<span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something here</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token comment">// do something here</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>前者是在class被加载的时候被调用，而后者是instantiation的时候被调用。因此前者可以用来初始化一些final field，后者可以处理新建对象后的事情(这样就不用把field初始化之类的事情写在constructor里了)。举个例子，如下</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;instance initialization&quot;</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">static</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;static initialization&quot;</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;CONSTRUCTOR&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Foo</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Foo</span> bar1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* OUTPUT
STATIC INITIALIZATION
INSTANCE INITIALIZATION
CONSTRUCTOR
INSTANCE INITIALIZATION
CONSTRUCTOR
*/</span>
</code></pre></div><ul><li>Q: What is inner interface?</li></ul> <blockquote><p>其实这个呢，我觉得就是为了更好地控制类和接口访问权限的开与闭而已。由于Interface现在默认掉（但不建议加）public和static(仅限inner interface)的关键字了。因此，inner interface就是static的了，比如我们只希望在Foo类里头使用Bar接口，我们就可以这样写。如下，如果我们不在同一个package下，就不能访问到Example里头的Bar了</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@FunctionalInterface</span>
        <span class="token keyword">interface</span> <span class="token class-name">Bar</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
            <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">void</span> <span class="token function">doBar</span><span class="token punctuation">(</span><span class="token class-name">Bar</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> bar<span class="token punctuation">,</span> <span class="token class-name">T</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            bar<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Example<span class="token punctuation">.</span>Foo</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doBar</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">,</span> <span class="token string">&quot;114514&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 114514</span>
</code></pre></div><h2 id="未见过的行为"><a href="#未见过的行为" class="header-anchor">#</a> 未见过的行为</h2> <ul><li>Q: (泛型擦除)为什么俩type parameter不同的泛型类不一样?</li></ul> <blockquote><p>注意这个坑，擦除是compile后擦掉的，而如<code>List&lt;String&gt;</code>和<code>List&lt;Object&gt;</code>这两个在compile的时候，是属于不同类型的。在Runtime上，它们才是属于同一类型<code>List</code>（被擦了）</p> <p>因此kotlin的Array&lt;&gt;也不能做到jvav中<code>String[] a = new String[1];Object[] i = a;</code>的操作（</p></blockquote> <h2 id="迷惑行为"><a href="#迷惑行为" class="header-anchor">#</a> 迷惑行为</h2> <p>Q: 为什么<code>javafx.scene.image.Image</code>的relative url是相对于classpath的，而<code>java.io.File</code>的path url不是？</p> <blockquote><p>The Java IO API relies on the local disk file system, not on the classpath.</p> <p><code>Java.io</code>的相对路径是根据此时的working directory来决定的</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Don't fiddle with relative paths in java.io.File. </span>
        <span class="token comment">// They are dependent on the current working directory over which you have totally no control from inside the Java code.</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;./test.dat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>比如这样，的确是根据工作目录来的。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>situ<span class="token punctuation">\</span>codes<span class="token operator">&gt;</span>java -cp C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>situ<span class="token punctuation">\</span>codes<span class="token punctuation">\</span>experiment<span class="token punctuation">\</span>out<span class="token punctuation">\</span>production<span class="token punctuation">\</span>experiment test.Test
C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>situ<span class="token punctuation">\</span>codes<span class="token punctuation">\</span>test.dat
</code></pre></div><p>而之前使用JavaFX，要读图只能放在classpath下。之前搞不懂，是因为我不知道classpath到底是个什么鬼，而现在我懂了。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// The image is located in my.res package of the classpath</span>
<span class="token class-name">Image</span> image2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token string">&quot;my/res/flower.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>如果classpath是<code>C:\Users\situ\codes\experiment\out\production\experiment</code>那么这个图片的绝对路径就是<code>C:\Users\situ\codes\experiment\out\production\experiment\my\res\flower.png</code></p> <h2 id="lambda"><a href="#lambda" class="header-anchor">#</a> Lambda</h2> <p>Method reference与Lambda expression的关系？详细了解Lambda表达式？为什么内部类只能访问final or effectively final的变量？</p> <blockquote><p><strong>详情请看博客</strong>：<a href="https://blog.situ2001.com/contents/3b19f30c2f96/" target="_blank" rel="noopener noreferrer">点击前往<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><s>这似乎跟内部实现有关，暂时先记住这个rule吧，以后有空再去慢慢摸清。</s></p> <p>简的来说，方法引用就是把一个方法当成Lambda表达式。目前我有在用，用在abstract method或者interface method的实现上。其实这个method reference在内部似乎是交给了java.util.function package里的class来处理了（这个没有深究，以后补上！）</p> <p>怎么判断一个method reference能不能被使用，首先看一下这个方法，static method的话，直接看header中的return type和signature中的parameter是否一致，比如int(int, int)的抽象类或接口方法就可以接受int(int, int)的method reference。那么对于对象方法，由于this会作为第一个参数传入。一个实例方法如int(String)可以被这样的方法：int(String, String)使用，因为这个实例方法的static样子就是int(this, String)即int(String, String)</p> <p>constructor也可以当成reference来传的，这个我没有研究过。</p></blockquote> <h2 id="自带api"><a href="#自带api" class="header-anchor">#</a> 自带API</h2> <ul><li>split()方法</li></ul> <p>竟然卡在String的split()方法里面了…不过这也证明了，我读文档的耐心程度还不够</p> <p><img src="/assets/img/20201229112401.7848f9b3.jpg" alt="问题图"></p> <p>为什么会出现一个length为0的element呢…?想了想感觉是不是：因为是空格，所以直接把空格删掉，填个&quot;&quot;上去充数了呢。结果读了文档才发现如下这么一段</p> <p><code>The array returned by this method contains each substring of this string that is terminated by another substring that matches the given expression or is terminated by the end of the string. The substrings in the array are in the order in which they occur in this string. If the expression does not match any part of the input then the resulting array has just one element, namely this string.</code></p> <p>上面的这段话就是说，返回来的数组是包含着被原字符串中的子串所截断所产生的新String[]或因为没有符合的pattern而直接返回的包含一个原字符串的数组…所以，要认真一点读文档，避免错失关键信息。</p> <h2 id="恶臭之处"><a href="#恶臭之处" class="header-anchor">#</a> 恶臭之处</h2> <p>要注意，就Jvav的method没有默认参数值...</p> <h2 id="语言律师"><a href="#语言律师" class="header-anchor">#</a> 语言律师</h2> <p>print一个对象不加toString()，在此之后不能用加号拼接一个非String？</p> <blockquote><p>这个有点意思，我暂时还没有想到原因。</p></blockquote> <p>会不会是因为当<code>lhs</code>和<code>rhs</code>都是一个没有加上<code>.toString()</code>方法的时候，就会很类似两个operand的manipulation。可能会产生歧义？（没有调查过）</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/basis.html" class="prev">
        Basis
      </a></span> <span class="next"><a href="/java/feature_jdk.html">
        Feature
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2f694f1f.js" defer></script><script src="/assets/js/2.0386f08b.js" defer></script><script src="/assets/js/10.a527e5d6.js" defer></script>
  </body>
</html>
