<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Feature | Situ Book</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo-book.svg">
    <link rel="stylesheet" href="/katex.min.css">
    <meta name="description" content="Taking notes">
    
    <link rel="preload" href="/assets/css/0.styles.d3913af2.css" as="style"><link rel="preload" href="/assets/js/app.2f694f1f.js" as="script"><link rel="preload" href="/assets/js/2.0386f08b.js" as="script"><link rel="preload" href="/assets/js/31.682d142b.js" as="script"><link rel="prefetch" href="/assets/js/10.a527e5d6.js"><link rel="prefetch" href="/assets/js/11.8d5c9888.js"><link rel="prefetch" href="/assets/js/12.6e7e7be7.js"><link rel="prefetch" href="/assets/js/13.3488446f.js"><link rel="prefetch" href="/assets/js/14.b2138dfa.js"><link rel="prefetch" href="/assets/js/15.ed6be218.js"><link rel="prefetch" href="/assets/js/16.7de27262.js"><link rel="prefetch" href="/assets/js/17.24073abf.js"><link rel="prefetch" href="/assets/js/18.bd7380b2.js"><link rel="prefetch" href="/assets/js/19.b46e9653.js"><link rel="prefetch" href="/assets/js/20.222a138a.js"><link rel="prefetch" href="/assets/js/21.b43e2666.js"><link rel="prefetch" href="/assets/js/22.389b8516.js"><link rel="prefetch" href="/assets/js/23.b255ed2d.js"><link rel="prefetch" href="/assets/js/24.4318192c.js"><link rel="prefetch" href="/assets/js/25.4506febf.js"><link rel="prefetch" href="/assets/js/26.21cd5f2f.js"><link rel="prefetch" href="/assets/js/27.3a5fa86f.js"><link rel="prefetch" href="/assets/js/28.0e9020ac.js"><link rel="prefetch" href="/assets/js/29.d48f68a6.js"><link rel="prefetch" href="/assets/js/3.3946e3db.js"><link rel="prefetch" href="/assets/js/30.79ad403d.js"><link rel="prefetch" href="/assets/js/32.883181cd.js"><link rel="prefetch" href="/assets/js/33.e14fb254.js"><link rel="prefetch" href="/assets/js/34.2610b763.js"><link rel="prefetch" href="/assets/js/35.d8a5f628.js"><link rel="prefetch" href="/assets/js/36.eab1929d.js"><link rel="prefetch" href="/assets/js/37.27fcb663.js"><link rel="prefetch" href="/assets/js/38.fbb69f7a.js"><link rel="prefetch" href="/assets/js/39.95e83f80.js"><link rel="prefetch" href="/assets/js/4.d3dc2a0c.js"><link rel="prefetch" href="/assets/js/40.f16d5e28.js"><link rel="prefetch" href="/assets/js/41.b70e4636.js"><link rel="prefetch" href="/assets/js/42.a692ee57.js"><link rel="prefetch" href="/assets/js/43.2fe370f7.js"><link rel="prefetch" href="/assets/js/44.b465b683.js"><link rel="prefetch" href="/assets/js/45.a8e1dcbb.js"><link rel="prefetch" href="/assets/js/46.fbca66d6.js"><link rel="prefetch" href="/assets/js/47.d100a58e.js"><link rel="prefetch" href="/assets/js/48.8d5b4f3f.js"><link rel="prefetch" href="/assets/js/49.f2095fd5.js"><link rel="prefetch" href="/assets/js/5.6f255507.js"><link rel="prefetch" href="/assets/js/50.3afff02a.js"><link rel="prefetch" href="/assets/js/51.9602841e.js"><link rel="prefetch" href="/assets/js/52.b252a454.js"><link rel="prefetch" href="/assets/js/53.a72c87cd.js"><link rel="prefetch" href="/assets/js/54.098d87d3.js"><link rel="prefetch" href="/assets/js/55.14c3a212.js"><link rel="prefetch" href="/assets/js/56.528ff35c.js"><link rel="prefetch" href="/assets/js/57.c05f6e21.js"><link rel="prefetch" href="/assets/js/58.881b7d9f.js"><link rel="prefetch" href="/assets/js/6.719d5c58.js"><link rel="prefetch" href="/assets/js/7.a34e84e1.js"><link rel="prefetch" href="/assets/js/8.ca2b2ba1.js"><link rel="prefetch" href="/assets/js/9.affa6488.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d3913af2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Situ Book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://blog.situ2001.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/situ2001" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://blog.situ2001.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/situ2001" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/basis.html" class="sidebar-link">Basis</a></li><li><a href="/java/problems.html" class="sidebar-link">Problems</a></li><li><a href="/java/feature_jdk.html" aria-current="page" class="active sidebar-link">Feature</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#local-variable-inference" class="sidebar-link">Local Variable Inference</a></li><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#non-denoted-type" class="sidebar-link">Non-denoted Type</a></li><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#text-block" class="sidebar-link">Text block</a></li><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#record-keyword" class="sidebar-link">record keyword</a></li><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#enhanced-switch" class="sidebar-link">enhanced switch</a></li><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#jshell" class="sidebar-link">JShell</a></li><li class="sidebar-sub-header"><a href="/java/feature_jdk.html#instanceof" class="sidebar-link">instanceof</a></li></ul></li><li><a href="/java/multithreading.html" class="sidebar-link">MultiThreading</a></li><li><a href="/java/design_patterns.html" class="sidebar-link">Design patterns</a></li><li><a href="/java/reflection.html" class="sidebar-link">Reflection</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Node.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>课程</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="feature"><a href="#feature" class="header-anchor">#</a> Feature</h1> <p></p><div class="table-of-contents"><ul><li><a href="#feature">Feature</a><ul><li><a href="#local-variable-inference">Local Variable Inference</a></li><li><a href="#non-denoted-type">Non-denoted Type</a></li><li><a href="#text-block">Text block</a></li><li><a href="#record-keyword">record keyword</a></li><li><a href="#enhanced-switch">enhanced switch</a></li><li><a href="#jshell">JShell</a></li><li><a href="#instanceof">instanceof</a></li></ul></li></ul></div><p></p> <p>下面是一些我会用到的JDK1.8+的还不错的新特性</p> <h2 id="local-variable-inference"><a href="#local-variable-inference" class="header-anchor">#</a> Local Variable Inference</h2> <p>(Since Java10)局部变量类型推导</p> <p>这个<strong>不是关键字，不是关键字！</strong>，他是一个类型，是类型！</p> <p>现在自动类型推导在Java上也可以了！(香)</p> <p>不过缺点是<strong>在编译时被实际类型替换</strong>(无伤大雅)</p> <p>一个痛点得到了完美的解决，比如类型<code>Set&lt;Map&lt;K, V&gt;.Entry&lt;K, V&gt;&gt;</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> entrySet <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set&lt;Map&lt;String, Integer&gt;.Entry&lt;String, Integer&gt;&gt;</span>
</code></pre></div><p>但是这玩意不想C++的auto那么万能，有一些场景是用不了的</p> <p>其实只需要注意到一个小小的本质：在<strong>编译时</strong>被实际类型替换，并且是<strong>局部变量</strong></p> <ul><li>匿名λ expression</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> lambda <span class="token operator">=</span> s <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">;</span> <span class="token comment">// NOT OK! Can't infer the type of lambda</span>
<span class="token keyword">var</span> lambda <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">accept</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// OK! Because the type of lambda is known</span>
</code></pre></div><ul><li>方法参数列表</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">var</span> foo<span class="token punctuation">)</span> <span class="token comment">// not allowed</span>
</code></pre></div><ul><li>仅声明</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> x<span class="token punctuation">;</span> <span class="token comment">// not allowed</span>
</code></pre></div><ul><li>赋个null</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// not allowed</span>
</code></pre></div><ul><li>try-catch block</li></ul> <p>你永远不知道在运行时前的编译时，你要catch的Exception是什么类型。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">var</span> e<span class="token punctuation">)</span> <span class="token comment">// not allowed!</span>
</code></pre></div><h2 id="non-denoted-type"><a href="#non-denoted-type" class="header-anchor">#</a> Non-denoted Type</h2> <p>(Since Java10)这个跟接口和抽象类是不一样的。</p> <blockquote><p>Java has a number of non-denotable types - that is to say types that can exist within your program, but for which there’s no way to explicitly write out the name for that type. A good example of a non-denotable type is an anonymous class - you can add fields and methods to it, but you won’t be able to write the name of the anonymous class in your Java code. The diamond operator can’t be used with anonymous classes. Var is less restricted and can be used to support some non-denotable types - specifically anonymous classes and intersection types.</p></blockquote> <p>在Java10里，我们可以基于一个存在的类，来创建一个新类，不过这个新类却没有相对应的新类型名字。这个就叫做<code>Non-denoted Type</code>，声明这种对象的时候必须要用<code>var</code>(因为根本没有存在的类型)，下面的代码用Object做declared type就会报错。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;114514&quot;</span><span class="token punctuation">;</span>

            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token string">&quot;From test(): &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> s<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// From test(): 114514</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="text-block"><a href="#text-block" class="header-anchor">#</a> Text block</h2> <p>(Since Java15)对于多行字符串，终于可以不用加号拼接字符串了</p> <p>Python, YES!!!</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">String</span> example <span class="token operator">=</span> <span class="token triple-quoted-string string">&quot;&quot;&quot;
        This is a 
        multi-line example.
        Wow, so python-liked(
        &quot;&quot;&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>example<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** OUTPUT
This is a
multi-line example.
Wow, so python-liked(
*/</span>
</code></pre></div><h2 id="record-keyword"><a href="#record-keyword" class="header-anchor">#</a> record keyword</h2> <p>目前preview，要等未来的Java16(目前2021/03/21)</p> <h2 id="enhanced-switch"><a href="#enhanced-switch" class="header-anchor">#</a> enhanced switch</h2> <p>(Since Java14)见这里: <a href="https://openjdk.java.net/jeps/361" target="_blank" rel="noopener noreferrer">链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><code>when</code> are you?(</p> <p>可以当成赋值表达式用了，真香。所以赋值也好，return也好，都可以的。<code>-&gt;</code>后若是一个code block，那么就要用<code>yield</code>来说明返回值。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">enum</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
        ONE<span class="token punctuation">,</span> TWO<span class="token punctuation">,</span> THREE<span class="token punctuation">,</span> FOUR<span class="token punctuation">,</span> FIVE
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>ONE<span class="token punctuation">;</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">switch</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> ONE<span class="token punctuation">,</span> TWO   <span class="token operator">-&gt;</span> <span class="token string">&quot;case 1&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> THREE      <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token keyword">yield</span> <span class="token string">&quot;case 2&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
            <span class="token keyword">case</span> FOUR<span class="token punctuation">,</span> FIVE <span class="token operator">-&gt;</span> <span class="token string">&quot;case 3&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span>         <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;No case matched&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">yield</span> <span class="token string">&quot;case 0&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>不过赋值时候，要注意全部情况，否则就会报错（不愧是严格的Java）</p> <p>非赋值的switch，也是这样。主要是<code>:</code>to<code>-&gt;</code>, omit <code>break</code>。</p> <h2 id="jshell"><a href="#jshell" class="header-anchor">#</a> JShell</h2> <p>(Since Java9)很像动态语言如py的command prompt啊（</p> <p>使用的话直接cmd输入即可</p> <div class="language-shell extra-class"><pre class="language-shell"><code>jshell
</code></pre></div><h2 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h2> <p>(Preview)待更...</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/problems.html" class="prev">
        Problems
      </a></span> <span class="next"><a href="/java/multithreading.html">
        MultiThreading
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2f694f1f.js" defer></script><script src="/assets/js/2.0386f08b.js" defer></script><script src="/assets/js/31.682d142b.js" defer></script>
  </body>
</html>
